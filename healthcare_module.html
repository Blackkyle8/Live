<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One AI - 헬스케어 AI</title>
    <style>
        :root {
            --color-surface-base: #000000;
            --color-surface-elevated: #111111;
            --color-surface-modal: #222222;
            --text-primary: #ffffff;
            --text-secondary: #e5e5e5;
            --text-tertiary: #a3a3a3;
            --color-primary: #10b981;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --color-info: #3b82f6;
            --color-medical: #06b6d4;
            --color-health: #8b5cf6;
            --font-family-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-primary);
            background: var(--color-surface-base);
            color: var(--text-primary);
            line-height: 1.6;
        }

        /* 페이지 시스템 */
        .page {
            display: none;
            min-height: 100vh;
        }

        .page.active {
            display: block;
        }

        /* 헤더 */
        .header {
            background: #111;
            border-bottom: 1px solid #333;
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 18px;
            font-weight: 600;
            color: #fff;
            cursor: pointer;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #000, #333);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
            border: 1px solid #555;
        }

        .header-nav {
            display: flex;
            gap: 24px;
            margin-left: auto;
            margin-right: 24px;
        }

        .nav-item {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
        }

        .nav-item:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.emergency {
            background: rgba(239, 68, 68, 0.1);
            color: var(--color-error);
            border: 1px solid var(--color-error);
        }

        .nav-item.emergency:hover {
            background: var(--color-error);
            color: white;
        }

        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid #333;
            background: #111;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            color: #fff;
            text-decoration: none;
        }

        .btn:hover {
            background: #222;
            transform: translateY(-1px);
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        .btn-primary:hover {
            background: #059669;
        }

        .btn-secondary {
            background: var(--color-medical);
            color: white;
            border-color: var(--color-medical);
        }

        .btn-large {
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
        }

        .btn-full {
            width: 100%;
            text-align: center;
        }

        /* 컨테이너 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px;
        }

        .container-small {
            max-width: 800px;
            margin: 0 auto;
            padding: 32px;
        }

        /* 뒤로가기 버튼 */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            margin-bottom: 24px;
            font-size: 14px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .back-btn:hover {
            color: var(--text-primary);
        }

        /* 페이지 헤더 */
        .page-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--color-medical), var(--color-health));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* 카드 */
        .card {
            background: var(--color-surface-elevated);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            background: var(--icon-bg);
            color: white;
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .card-subtitle {
            color: var(--text-tertiary);
            font-size: 0.9rem;
        }

        /* 폼 */
        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            background: var(--color-surface-modal);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.2s;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--color-medical);
            box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.1);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* 선택 옵션 */
        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .option-card {
            background: var(--color-surface-modal);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .option-card:hover {
            border-color: var(--color-medical);
            transform: translateY(-2px);
        }

        .option-card.selected {
            border-color: var(--color-medical);
            background: rgba(6, 182, 212, 0.1);
        }

        .option-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .option-title {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .option-price {
            color: var(--color-primary);
            font-weight: 600;
            font-size: 1.1rem;
        }

        /* 증상 태그 */
        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 24px;
        }

        .symptom-tag {
            background: rgba(6, 182, 212, 0.1);
            border: 1px solid var(--color-medical);
            color: var(--color-medical);
            padding: 12px 16px;
            border-radius: 20px;
            font-size: 14px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .symptom-tag:hover,
        .symptom-tag.selected {
            background: var(--color-medical);
            color: white;
        }

        /* 진행 바 */
        .progress-bar {
            background: var(--color-surface-modal);
            border-radius: 8px;
            height: 8px;
            margin-bottom: 32px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--color-medical), var(--color-health));
            height: 100%;
            border-radius: 8px;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 8px;
        }

        /* 결과 카드 */
        .result-card {
            background: linear-gradient(135deg, var(--color-surface-elevated), var(--color-surface-modal));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
            text-align: center;
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 24px;
        }

        .result-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .result-description {
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.8;
        }

        .success-icon {
            color: var(--color-primary);
        }

        .warning-icon {
            color: var(--color-warning);
        }

        .info-icon {
            color: var(--color-info);
        }

        .error-icon {
            color: var(--color-error);
        }

        /* 정보 리스트 */
        .info-list {
            background: var(--color-surface-elevated);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .info-list h4 {
            margin-bottom: 16px;
            color: var(--color-medical);
        }

        .info-list ul {
            list-style: none;
        }

        .info-list li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            color: var(--text-secondary);
        }

        .info-list li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--color-primary);
            font-weight: bold;
        }

        /* 액션 버튼들 */
        .action-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 32px;
        }

        .action-buttons .btn {
            min-width: 160px;
        }

        /* 건강 메트릭 */
        .health-metric {
            background: var(--color-surface-modal);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .health-metric:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(6, 182, 212, 0.2);
        }

        .device-indicator {
            margin-right: 4px;
        }

        /* 디바이스 모달 */
        .device-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .device-modal.show {
            display: flex;
        }

        .device-modal-content {
            background: var(--color-surface-elevated);
            border-radius: 16px;
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .device-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            margin-bottom: 12px;
            transition: all 0.2s;
        }

        .device-item:hover {
            border-color: var(--color-medical);
        }

        .device-item.connected {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--color-primary);
        }

        .device-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .device-icon {
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
        }

        .device-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .device-status.connected {
            background: rgba(16, 185, 129, 0.2);
            color: var(--color-primary);
        }

        .device-status.disconnected {
            background: rgba(239, 68, 68, 0.2);
            color: var(--color-error);
        }

        /* 타이머 스타일 */
        .timer-display {
            font-size: 2rem;
            color: var(--color-primary);
            margin: 24px 0;
            font-weight: 600;
        }

        /* 상담 화면 */
        .consultation-video {
            background: #000;
            border-radius: 16px;
            aspect-ratio: 16/9;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
            border: 2px solid var(--color-medical);
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .header {
                padding: 12px 16px;
                flex-direction: column;
                gap: 12px;
            }
            
            .header-nav {
                margin: 0;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .container, .container-small {
                padding: 16px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .option-grid {
                grid-template-columns: 1fr;
            }

            .symptoms-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- 메인 페이지 -->
    <div id="mainPage" class="page active">
        <div class="header">
            <div class="logo" onclick="showPage('mainPage')">
                <div class="logo-icon">1</div>
                <span>One AI</span>
            </div>
            
            <nav class="header-nav">
                <div class="nav-item emergency" onclick="showPage('emergencyPage')">
                    🚨 응급상황
                </div>
            </nav>
            
            <div class="header-actions">
                <button class="btn" onclick="showLogin()">로그인</button>
                <button class="btn btn-primary" onclick="showAIEngines()">AI 엔진 추가</button>
            </div>
        </div>

        <div class="container">
            <div class="page-header">
                <h1 class="page-title">🏥 One AI 헬스케어</h1>
                <p class="page-subtitle">AI 기반 스마트 헬스케어 플랫폼</p>
            </div>

            <!-- 내 건강 대시보드 -->
            <div class="card" style="margin-bottom: 40px;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px;">
                    <h3>📊 내 건강 대시보드</h3>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <button class="btn" id="syncDevicesBtn" onclick="showDeviceSync()" style="background: var(--color-medical); color: white;">
                            📱 디바이스 연동
                        </button>
                        <div id="syncStatus" style="display: none; color: var(--color-primary); font-size: 12px;">
                            🔄 동기화 중...
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;" id="healthMetrics">
                    <div class="health-metric" data-device="smartwatch">
                        <div style="font-size: 2rem; color: var(--color-medical); font-weight: 700; margin-bottom: 8px;" id="heartRate">72</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">심박수 (bpm)</div>
                        <div style="background: rgba(16, 185, 129, 0.1); color: var(--color-primary); padding: 4px 8px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; justify-content: center;">
                            <span class="device-indicator">⌚</span> 정상
                        </div>
                    </div>
                    <div class="health-metric" data-device="blood-pressure">
                        <div style="font-size: 2rem; color: var(--color-medical); font-weight: 700; margin-bottom: 8px;">120/80</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">혈압 (mmHg)</div>
                        <div style="background: rgba(16, 185, 129, 0.1); color: var(--color-primary); padding: 4px 8px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; justify-content: center;">
                            <span class="device-indicator">🩺</span> 정상
                        </div>
                    </div>
                    <div class="health-metric" data-device="smartwatch">
                        <div style="font-size: 2rem; color: var(--color-medical); font-weight: 700; margin-bottom: 8px;">7.2h</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">수면시간</div>
                        <div style="background: rgba(245, 158, 11, 0.1); color: var(--color-warning); padding: 4px 8px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; justify-content: center;">
                            <span class="device-indicator">⌚</span> 부족
                        </div>
                    </div>
                    <div class="health-metric" data-device="smartphone">
                        <div style="font-size: 2rem; color: var(--color-medical); font-weight: 700; margin-bottom: 8px;">8,547</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">걸음수</div>
                        <div style="background: rgba(16, 185, 129, 0.1); color: var(--color-primary); padding: 4px 8px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; justify-content: center;">
                            <span class="device-indicator">📱</span> 양호
                        </div>
                    </div>
                    <div class="health-metric" data-device="glucose-meter" style="display: none;">
                        <div style="font-size: 2rem; color: var(--color-medical); font-weight: 700; margin-bottom: 8px;">95</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">혈당 (mg/dL)</div>
                        <div style="background: rgba(16, 185, 129, 0.1); color: var(--color-primary); padding: 4px 8px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; justify-content: center;">
                            <span class="device-indicator">🩸</span> 정상
                        </div>
                    </div>
                    <div class="health-metric" data-device="scale" style="display: none;">
                        <div style="font-size: 2rem; color: var(--color-medical); font-weight: 700; margin-bottom: 8px;">68.5kg</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 8px;">체중</div>
                        <div style="background: rgba(16, 185, 129, 0.1); color: var(--color-primary); padding: 4px 8px; border-radius: 12px; font-size: 12px; display: flex; align-items: center; justify-content: center;">
                            <span class="device-indicator">⚖️</span> 정상
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="showPage('healthTrendsPage')">📈 건강 트렌드</button>
                    <button class="btn btn-secondary" onclick="exportHealthData()">📤 데이터 내보내기</button>
                    <button class="btn btn-secondary" onclick="showPage('shareWithDoctorPage')">👨‍⚕️ 의사와 공유</button>
                </div>
                
                <p style="text-align: center; color: var(--text-secondary); font-size: 14px;">
                    마지막 동기화: <span id="lastSync">2024년 8월 5일 14:32</span>
                </p>
            </div>

            <!-- AI 증상 체크 섹션 -->
            <div class="card" style="margin-bottom: 40px;">
                <div class="card-header">
                    <div class="card-icon" style="--icon-bg: linear-gradient(135deg, var(--color-medical), var(--color-health));">🔍</div>
                    <div>
                        <h3 class="card-title">AI 증상 체크</h3>
                        <p class="card-subtitle">무료로 현재 증상을 분석해드립니다</p>
                    </div>
                </div>
                <p style="margin-bottom: 20px; color: var(--text-secondary);">
                    현재 느끼는 증상을 선택하면 AI가 분석하여 조언을 드립니다.
                </p>
                <div class="symptoms-grid" style="margin-bottom: 20px;">
                    <div class="symptom-tag" onclick="toggleSymptom(this)">두통</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">발열</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">기침</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">복통</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">피로감</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">어지러움</div>
                </div>
                <button class="btn btn-primary btn-large btn-full" onclick="showPage('symptomCheckPage')">
                    무료 AI 증상 체크 시작하기
                </button>
            </div>

            <!-- 비대면진료 섹션 -->
            <div style="background: linear-gradient(135deg, var(--color-surface-elevated), var(--color-surface-modal)); border-radius: 16px; padding: 32px; margin-bottom: 40px; border: 1px solid rgba(255, 255, 255, 0.1);">
                <h2 style="font-size: 1.8rem; font-weight: 600; margin-bottom: 16px; text-align: center;">💻 비대면진료 서비스</h2>
                <p style="text-align: center; color: var(--text-secondary); margin-bottom: 32px;">
                    전문의와 화상으로 상담하고 처방전까지 받아보세요
                </p>
                
                <div class="option-grid">
                    <div class="option-card" onclick="showPage('telemedicineBookingPage')">
                        <div class="option-icon">⚡</div>
                        <div class="option-title">즉시 상담</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin: 8px 0;">평균 대기시간 3분</div>
                        <div class="option-price">₩15,000</div>
                    </div>
                    <div class="option-card" onclick="showPage('telemedicineBookingPage')">
                        <div class="option-icon">📅</div>
                        <div class="option-title">예약 상담</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin: 8px 0;">원하는 시간에 예약</div>
                        <div class="option-price">₩20,000</div>
                    </div>
                    <div class="option-card" onclick="showPage('prescriptionPage')">
                        <div class="option-icon">💊</div>
                        <div class="option-title">처방전 관리</div>
                        <div style="color: var(--text-secondary); font-size: 14px; margin: 8px 0;">약 주문부터 배송까지</div>
                        <div class="option-price">₩3,000</div>
                    </div>
                </div>
            </div>

            <!-- 온라인 약국 -->
            <div class="card" style="margin-bottom: 40px;">
                <h3 style="margin-bottom: 20px;">🏪 온라인 약국</h3>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">
                    처방전 없이도 구매 가능한 일반의약품과 건강기능식품을 주문하세요
                </p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;">
                    <div class="option-card" onclick="showPage('onlinePharmacyPage')">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;">💊</div>
                        <h5 style="margin-bottom: 8px;">영양제/건강기능식품</h5>
                        <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 8px;">비타민, 오메가3, 프로바이오틱스</p>
                        <div style="color: var(--color-primary); font-weight: 600;">₩5,000원부터</div>
                    </div>
                    <div class="option-card" onclick="showPage('onlinePharmacyPage')">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;">🩹</div>
                        <h5 style="margin-bottom: 8px;">일반의약품</h5>
                        <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 8px;">감기약, 소화제, 진통제</p>
                        <div style="color: var(--color-primary); font-weight: 600;">₩3,000원부터</div>
                    </div>
                    <div class="option-card" onclick="showPage('onlinePharmacyPage')">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;">🌡️</div>
                        <h5 style="margin-bottom: 8px;">의료기기</h5>
                        <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 8px;">혈압계, 혈당계, 체온계</p>
                        <div style="color: var(--color-primary); font-weight: 600;">₩50,000원부터</div>
                    </div>
                    <div class="option-card" onclick="showPage('onlinePharmacyPage')">
                        <div style="font-size: 1.5rem; margin-bottom: 8px;">🌿</div>
                        <h5 style="margin-bottom: 8px;">한방/천연</h5>
                        <p style="color: var(--text-secondary); font-size: 13px; margin-bottom: 8px;">홍삼, 한방차, 천연 추출물</p>
                        <div style="color: var(--color-primary); font-weight: 600;">₩15,000원부터</div>
                    </div>
                </div>
                <button class="btn btn-secondary btn-full" onclick="showPage('onlinePharmacyPage')">
                    온라인 약국 바로가기
                </button>
            </div>

            <!-- AI 건강 서비스 -->
            <div class="card">
                <h3 style="margin-bottom: 20px;">🤖 AI 건강 서비스</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div class="option-card" onclick="showPage('symptomCheckPage')">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--color-medical), var(--color-health)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">🔍</div>
                            <h5>AI 증상 체크</h5>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px;">증상을 입력하면 AI가 가능한 질병을 분석하고 대응 방안을 제안합니다.</p>
                    </div>
                    
                    <div class="option-card" onclick="showPage('healthCheckupAnalysisPage')">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--color-health), #a855f7); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">📋</div>
                            <h5>건강검진 분석</h5>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px;">건강검진 결과를 업로드하면 AI가 분석하여 위험 요소를 찾아드립니다.</p>
                    </div>
                    
                    <div class="option-card" onclick="showPage('drugInteractionPage')">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--color-warning), #f59e0b); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">⚠️</div>
                            <h5>약물 상호작용</h5>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px;">복용 중인 약물들의 상호작용을 체크하고 주의사항을 안내합니다.</p>
                    </div>
                    
                    <div class="option-card" onclick="showPage('emergencyPage')">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--color-error), #dc2626); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">🚑</div>
                            <h5>응급처치 가이드</h5>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px;">응급상황별 대처법을 단계별로 안내하고 음성 가이드를 제공합니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI 증상 체크 페이지 -->
    <div id="symptomCheckPage" class="page">
        <div class="header">
            <div class="logo" onclick="showPage('mainPage')">
                <div class="logo-icon">1</div>
                <span>One AI</span>
            </div>
        </div>

        <div class="container-small">
            <div class="back-btn" onclick="showPage('mainPage')">
                ← 뒤로가기
            </div>

            <div class="page-header">
                <h1 class="page-title">🔍 AI 증상 체크</h1>
                <p class="page-subtitle">현재 느끼는 증상을 선택하면 AI가 분석하여 조언을 드립니다</p>
            </div>

            <div class="progress-text">1/3 단계</div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 33%"></div>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 24px;">현재 느끼는 증상을 모두 선택해주세요</h3>
                <div class="symptoms-grid">
                    <div class="symptom-tag" onclick="toggleSymptom(this)">두통</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">발열</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">기침</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">목아픔</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">복통</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">설사</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">구토</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">근육통</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">피로감</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">어지러움</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">숨이참</div>
                    <div class="symptom-tag" onclick="toggleSymptom(this)">가슴통증</div>
                </div>

                <div class="form-group">
                    <label class="form-label">증상이 시작된 시기</label>
                    <select class="form-select" id="symptomDuration">
                        <option value="">선택하세요</option>
                        <option value="today">오늘</option>
                        <option value="yesterday">어제</option>
                        <option value="week">일주일 전</option>
                        <option value="month">한달 전</option>
                    </select>
                </div>

                <button class="btn btn-primary btn-large btn-full" onclick="showPage('symptomAnalysisPage')">
                    다음 단계
                </button>
            </div>
        </div>
    </div>

    <!-- 증상 분석 결과 페이지 -->
    <div id="symptomAnalysisPage" class="page">
        <div class="header">
            <div class="logo" onclick="showPage('mainPage')">
                <div class="logo-icon">1</div>
                <span>One AI</span>
            </div>
        </div>

        <div class="container-small">
            <div class="back-btn" onclick="showPage('symptomCheckPage')">
                ← 뒤로가기
            </div>

            <div class="result-card">
                <div class="result-icon warning-icon">⚠️</div>
                <h2 class="result-title">AI 분석 결과</h2>
                <p class="result-description">
                    선택하신 증상을 분석한 결과, <strong>감기 또는 상기도 감염</strong> 가능성이 높습니다.<br>
                    현재 증상이 3일 이상 지속되거나 악화될 경우 의료진 상담을 권합니다.
                </p>
            </div>

            <div class="info-list">
                <h4>🏠 집에서 할 수 있는 관리법</h4>
                <ul>
                    <li>충분한 휴식과 수면 (8시간 이상)</li>
                    <li>수분 섭취량 늘리기 (하루 2-3L)</li>
                    <li>따뜻한 물이나 꿀차 마시기</li>
                    <li>실내 습도 유지 (50-60%)</li>
                    <li>금연 및 금주</li>
                </ul>
            </div>

            <div class="info-list">
                <h4>🚨 이런 증상이 나타나면 즉시 병원 방문</h4>
                <ul>
                    <li>38.5°C 이상의 고열이 3일 이상 지속</li>
                    <li>심한 두통이나 목 경직</li>
                    <li>호흡곤란이나 가슴 통증</li>
                    <li>지속적인 구토로 수분 섭취 불가</li>
                    <li>의식 저하나 심한 어지러움</li>
                </ul>
            </div>

            <div class="action-buttons">
                <button class="btn btn-secondary btn-large" onclick="showPage('telemedicineBookingPage')">
                    의사와 상담하기
                </button>
                <button class="btn btn-primary btn-large" onclick="showPage('symptomCompleteePage')">
                    완료
                </button>
            </div>
        </div>
    </div>

    <!-- 증상 체크 완료 페이지 -->
    <div id="symptomCompleteePage" class="page">
        <div class="header">
            <div class="logo" onclick="showPage('mainPage')">
                <div class="logo-icon">1</div>
                <span>One AI</span>
            </div>
        </div>

        <div class="container-small">
            <div class="result-card">
                <div class="result-icon success-icon">✅</div>
                <h2 class="result-title">AI 건강 체크 완료!</h2>
                <p class="result-description">
                    증상 분석 결과와 관리 방법을 이메일로 전송해드렸습니다.<br>
                    건강 상태를 지속적으로 모니터링하고 필요시 전문의와 상담받으세요.
                </p>
            </div>

            <div class="card">
                <h4 style="margin-bottom: 16px;">📧 결과 리포트 전송 완료</h4>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    user@example.com으로 상세한 분석 결과와 건강 관리 가이드를 전송했습니다.
                </p>
                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                    <strong>다음 체크 권장 시기:</strong> 3일 후 (2024년 8월 8일)
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary btn-large" onclick="showPage('mainPage')">
                    홈으로 돌아가기
                </button>
                <button class="btn btn-secondary btn-large" onclick="showPage('telemedicineBookingPage')">
                    전문의 상담받기
                </button>
            </div>
        </div>
    </div>

    <!-- 응급상황 페이지 -->
    <div id="emergencyPage" class="page">
        <div class="header">
            <div class="logo" onclick="showPage('mainPage')">
                <div class="logo-icon">1</div>
                <span>One AI</span>
            </div>
        </div>

        <div class="container-small">
            <div class="back-btn" onclick="showPage('mainPage')">
                ← 뒤로가기
            </div>

            <div style="background: rgba(239, 68, 68, 0.1); border: 2px solid var(--color-error); border-radius: 16px; padding: 32px; text-align: center; margin-bottom: 32px;">
                <div style="font-size: 4rem; margin-bottom: 16px;">🚨</div>
                <h2 style="color: var(--color-error); font-size: 1.8rem; margin-bottom: 16px;">응급상황</h2>
                <p style="margin-bottom: 24px;">생명이 위험한 응급상황이라면 즉시 119에 신고하세요</p>
                <button class="btn btn-large" style="background: var(--color-error); color: white; border-color: var(--color-error);" onclick="call119()">
                    📞 119 신고하기
                </button>
            </div>

            <div class="option-grid">
                <div class="option-card" onclick="showPage('firstAidGuidePage')">
                    <div class="option-icon">🏥</div>
                    <div class="option-title">응급처치 가이드</div>
                    <div style="color: var(--text-secondary); font-size: 14px;">상황별 대처법</div>
                </div>
                <div class="option-card" onclick="findNearbyHospital()">
                    <div class="option-icon">📍</div>
                    <div class="option-title">응급실 찾기</div>
                    <div style="color: var(--text-secondary); font-size: 14px;">가까운 병원</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 응급처치 가이드 페이지 -->
    <div id="firstAidGuidePage" class="page">
        <div class="header">
            <div class="logo" onclick="showPage('mainPage')">
                <div class="logo-icon">1</div>
                <span>One AI</span>
            </div>
        </div>

        <div class="container-small">
            <div class="back-btn" onclick="showPage('emergencyPage')">
                ← 뒤로가기
            </div>

            <div class="page-header">
                <h1 class="page-title">🚑 응급처치 가이드</h1>
                <p class="page-subtitle">상황을 선택하면 음성 가이드와 함께 단계별 안내를 제공합니다</p>
            </div>

            <div class="option-grid">
                <div class="option-card" onclick="startFirstAidGuide('cpr')">
                    <div class="option-icon">❤️</div>
                    <div class="option-title">심정지/의식불명</div>
                </div>
                <div class="option-card" onclick="startFirstAidGuide('choking')">
                    <div class="option-icon">🫁</div>
                    <div class="option-title">기도폐쇄/질식</div>
                </div>
                <div class="option-card" onclick="startFirstAidGuide('burn')">
                    <div class="option-icon">🔥</div>
                    <div class="option-title">화상</div>
                </div>
                <div class="option-card" onclick="startFirstAidGuide('bleeding')">
                    <div class="option-icon">🩸</div>
                    <div class="option-title">심한 출혈</div>
                </div>
                <div class="option-card" onclick="startFirstAidGuide('fracture')">
                    <div class="option-icon">🦴</div>
                    <div class="option-title">골절/외상</div>
                </div>
                <div class="option-card" onclick="startFirstAidGuide('poisoning')">
                    <div class="option-icon">☠️</div>
                    <div class="option-title">중독</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 디바이스 연동 모달 -->
    <div id="deviceModal" class="device-modal">
        <div class="device-modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                <h3>📱 디바이스 연동 관리</h3>
                <button onclick="closeDeviceModal()" style="background: none; border: none; color: var(--text-secondary); font-size: 24px; cursor: pointer;">×</button>
            </div>

            <p style="color: var(--text-secondary); margin-bottom: 24px;">
                건강 데이터를 자동으로 수집하고 분석하기 위해 디바이스를 연동하세요
            </p>

            <div id="deviceList">
                <!-- 스마트워치 -->
                <div class="device-item connected" data-device="smartwatch">
                    <div class="device-info">
                        <div class="device-icon">⌚</div>
                        <div>
                            <h5>Apple Watch Series 9</h5>
                            <p style="color: var(--text-secondary); font-size: 13px;">심박수, 수면, 운동 데이터</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="device-status connected">연결됨</div>
                        <button class="btn" onclick="toggleDevice('smartwatch')">연결 해제</button>
                    </div>
                </div>

                <!-- 스마트폰 -->
                <div class="device-item connected" data-device="smartphone">
                    <div class="device-info">
                        <div class="device-icon">📱</div>
                        <div>
                            <h5>iPhone 15 Pro</h5>
                            <p style="color: var(--text-secondary); font-size: 13px;">걸음수, 활동 데이터</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="device-status connected">연결됨</div>
                        <button class="btn" onclick="toggleDevice('smartphone')">연결 해제</button>
                    </div>
                </div>

                <!-- 혈압계 -->
                <div class="device-item" data-device="blood-pressure">
                    <div class="device-info">
                        <div class="device-icon">🩺</div>
                        <div>
                            <h5>오므론 혈압계</h5>
                            <p style="color: var(--text-secondary); font-size: 13px;">혈압, 맥박 데이터</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="device-status disconnected">연결 안됨</div>
                        <button class="btn btn-primary" onclick="connectDevice('blood-pressure')">연결</button>
                    </div>
                </div>

                <!-- 혈당계 -->
                <div class="device-item" data-device="glucose-meter">
                    <div class="device-info">
                        <div class="device-icon">🩸</div>
                        <div>
                            <h5>애큐첵 혈당계</h5>
                            <p style="color: var(--text-secondary); font-size: 13px;">혈당 데이터</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="device-status disconnected">연결 안됨</div>
                        <button class="btn btn-primary" onclick="connectDevice('glucose-meter')">연결</button>
                    </div>
                </div>

                <!-- 체중계 -->
                <div class="device-item" data-device="scale">
                    <div class="device-info">
                        <div class="device-icon">⚖️</div>
                        <div>
                            <h5>샤오미 스마트 체중계</h5>
                            <p style="color: var(--text-secondary); font-size: 13px;">체중, BMI, 체지방률</p>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="device-status disconnected">연결 안됨</div>
                        <button class="btn btn-primary" onclick="connectDevice('scale')">연결</button>
                    </div>
                </div>
            </div>

            <div style="background: var(--color-surface-modal); padding: 20px; border-radius: 12px; margin-top: 24px;">
                <h4 style="margin-bottom: 12px;">🔒 개인정보 보호</h4>
                <ul style="color: var(--text-secondary); font-size: 14px; list-style: none; padding-left: 0;">
                    <li>• 모든 건강 데이터는 암호화되어 안전하게 저장됩니다</li>
                    <li>• 데이터는 의료진과의 상담 목적으로만 사용됩니다</li>
                    <li>• 언제든지 데이터 삭제 및 연동 해제가 가능합니다</li>
                </ul>
            </div>

            <div style="margin-top: 24px; text-align: center;">
                <button class="btn btn-primary btn-large" onclick="syncAllDevices()">
                    🔄 전체 디바이스 동기화
                </button>
            </div>
        </div>
    </div>

    <script>
        // 전역 변수
        let connectedDevices = ['smartwatch', 'smartphone'];
        let selectedSymptoms = [];
        let currentConsultationType = 'immediate';
        let isMuted = false;
        let isCameraOff = false;
        let waitingTimer;
        let consultationTimer;

        // 페이지 로드시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            updateHealthMetrics();
            updateLastSyncTime();

            // 모달 외부 클릭시 닫기
            document.getElementById('deviceModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeDeviceModal();
                }
            });

            // CSS 애니메이션 추가
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
        });

        // 페이지 전환 함수
        function showPage(pageId) {
            // 모든 페이지 숨기기
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 선택된 페이지 보이기
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                
                // 페이지별 특별 처리
                if (pageId === 'consultationWaitingPage') {
                    startWaitingTimer();
                } else if (pageId === 'consultationInProgressPage') {
                    startConsultationTimer();
                }
            } else {
                showNotification('해당 페이지는 아직 구현되지 않았습니다.', 'warning');
            }
        }

        // 디바이스 연동 모달
        function showDeviceSync() {
            document.getElementById('deviceModal').classList.add('show');
            updateDeviceList();
        }

        function closeDeviceModal() {
            document.getElementById('deviceModal').classList.remove('show');
        }

        function updateDeviceList() {
            const deviceItems = document.querySelectorAll('.device-item');
            deviceItems.forEach(item => {
                const deviceType = item.getAttribute('data-device');
                const isConnected = connectedDevices.includes(deviceType);
                const statusElement = item.querySelector('.device-status');
                const buttonElement = item.querySelector('button');

                if (isConnected) {
                    item.classList.add('connected');
                    statusElement.className = 'device-status connected';
                    statusElement.textContent = '연결됨';
                    buttonElement.textContent = '연결 해제';
                    buttonElement.className = 'btn';
                } else {
                    item.classList.remove('connected');
                    statusElement.className = 'device-status disconnected';
                    statusElement.textContent = '연결 안됨';
                    buttonElement.textContent = '연결';
                    buttonElement.className = 'btn btn-primary';
                }
            });
        }

        function connectDevice(deviceType) {
            showSyncAnimation();
            
            setTimeout(() => {
                connectedDevices.push(deviceType);
                updateDeviceList();
                updateHealthMetrics();
                showNotification('디바이스가 연결되었습니다', 'success');
                hideSyncAnimation();
            }, 2000);
        }

        function toggleDevice(deviceType) {
            if (connectedDevices.includes(deviceType)) {
                connectedDevices = connectedDevices.filter(d => d !== deviceType);
                updateDeviceList();
                updateHealthMetrics();
                showNotification('디바이스 연결이 해제되었습니다', 'warning');
            } else {
                connectDevice(deviceType);
            }
        }

        function updateHealthMetrics() {
            const metrics = document.querySelectorAll('.health-metric');
            metrics.forEach(metric => {
                const deviceType = metric.getAttribute('data-device');
                if (connectedDevices.includes(deviceType)) {
                    metric.style.display = 'block';
                } else {
                    metric.style.display = 'none';
                }
            });
        }

        function syncAllDevices() {
            showSyncAnimation();
            
            setTimeout(() => {
                updateLastSyncTime();
                generateRandomHealthData();
                hideSyncAnimation();
                showNotification('모든 디바이스 동기화가 완료되었습니다', 'success');
            }, 3000);
        }

        function showSyncAnimation() {
            document.getElementById('syncStatus').style.display = 'block';
            document.getElementById('syncDevicesBtn').style.opacity = '0.5';
        }

        function hideSyncAnimation() {
            document.getElementById('syncStatus').style.display = 'none';
            document.getElementById('syncDevicesBtn').style.opacity = '1';
        }

        function updateLastSyncTime() {
            const now = new Date();
            const timeString = now.toLocaleString('ko-KR');
            document.getElementById('lastSync').textContent = timeString;
        }

        function generateRandomHealthData() {
            const heartRateElement = document.getElementById('heartRate');
            if (heartRateElement) {
                const newHeartRate = Math.floor(Math.random() * 20) + 65; // 65-85 범위
                heartRateElement.textContent = newHeartRate;
            }
        }

        function showNotification(message, type = 'info') {
            const colors = {
                success: '#10b981',
                warning: '#f59e0b',
                error: '#ef4444',
                info: '#3b82f6'
            };

            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${colors[type]};
                color: white;
                padding: 16px 20px;
                border-radius: 8px;
                z-index: 1001;
                font-weight: 600;
                max-width: 300px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // 증상 태그 토글
        function toggleSymptom(element) {
            element.classList.toggle('selected');
            const symptom = element.textContent;
            
            if (element.classList.contains('selected')) {
                element.style.background = 'var(--color-medical)';
                element.style.color = 'white';
                if (!selectedSymptoms.includes(symptom)) {
                    selectedSymptoms.push(symptom);
                }
            } else {
                element.style.background = 'rgba(6, 182, 212, 0.1)';
                element.style.color = 'var(--color-medical)';
                selectedSymptoms = selectedSymptoms.filter(s => s !== symptom);
            }
        }

        // 건강 관련 기능들
        function exportHealthData() {
            const data = {
                exportDate: new Date().toISOString(),
                period: 'last_30_days',
                heartRate: { average: 72, min: 58, max: 95 },
                bloodPressure: { average: '120/80', trend: 'stable' },
                sleep: { average: 7.1, quality: 'good' },
                steps: { average: 8200, total: 246000 },
                weight: { current: 68.5, change: -0.3 }
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `health_data_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            URL.revokeObjectURL(url);
            showNotification('건강 데이터가 내보내기되었습니다', 'success');
        }

        // 상담 관련 기능들
        function selectConsultationType(type) {
            currentConsultationType = type;
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            if (type === 'immediate') {
                document.getElementById('immediateOption').classList.add('selected');
            } else {
                document.getElementById('scheduledOption').classList.add('selected');
            }
        }

        function processPayment() {
            showNotification('결제를 진행합니다...', 'info');
            
            setTimeout(() => {
                showNotification('결제가 완료되었습니다', 'success');
                showPage('consultationWaitingPage');
            }, 2000);
        }

        function startWaitingTimer() {
            let minutes = 2;
            let seconds = 30;
            
            waitingTimer = setInterval(() => {
                const timeDisplay = document.getElementById('waitingTime');
                if (timeDisplay) {
                    timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    if (seconds === 0) {
                        if (minutes === 0) {
                            clearInterval(waitingTimer);
                            timeDisplay.textContent = '연결 중...';
                        } else {
                            minutes--;
                            seconds = 59;
                        }
                    } else {
                        seconds--;
                    }
                }
            }, 1000);
        }

        function startConsultationTimer() {
            let minutes = 5;
            let seconds = 42;
            
            consultationTimer = setInterval(() => {
                const timeDisplay = document.getElementById('consultTime');
                if (timeDisplay) {
                    timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    seconds++;
                    if (seconds === 60) {
                        minutes++;
                        seconds = 0;
                    }
                }
            }, 1000);
        }

        function toggleMute() {
            isMuted = !isMuted;
            const muteIcon = document.getElementById('muteIcon');
            const muteText = document.getElementById('muteText');
            
            if (isMuted) {
                muteIcon.textContent = '🔊';
                muteText.textContent = '음소거 해제';
            } else {
                muteIcon.textContent = '🔇';
                muteText.textContent = '음소거';
            }
        }

        function toggleCamera() {
            isCameraOff = !isCameraOff;
            const cameraIcon = document.getElementById('cameraIcon');
            const cameraText = document.getElementById('cameraText');
            
            if (isCameraOff) {
                cameraIcon.textContent = '📷';
                cameraText.textContent = '카메라 켜기';
            } else {
                cameraIcon.textContent = '📹';
                cameraText.textContent = '카메라 끄기';
            }
        }

        // 응급상황 관련 기능들
        function call119() {
            if (confirm('119에 신고하시겠습니까?\n\n실제 응급상황이 아니라면 취소를 눌러주세요.')) {
                showNotification('119 신고가 접수되었습니다', 'error');
                setTimeout(() => {
                    alert('📞 119 신고\n\n현재 위치: 서울시 강남구 테헤란로 123\n신고 접수: 2024년 8월 5일 15:30\n\n구급차가 출동합니다. 현장에서 대기해주세요.');
                }, 1000);
            }
        }

        function findNearbyHospital() {
            showNotification('주변 응급실을 검색중입니다...', 'info');
            setTimeout(() => {
                alert('📍 가까운 응급실\n\n1. 강남세브란스병원 응급실 (도보 5분)\n   서울시 강남구 언주로 211\n   📞 02-2019-3000\n\n2. 삼성서울병원 응급실 (차량 8분)\n   서울시 강남구 일원로 81\n   📞 02-3410-2114\n\n3. 강남성심병원 응급실 (차량 10분)\n   서울시 강남구 봉은사로 120\n   📞 02-2051-1000');
            }, 1500);
        }

        function startFirstAidGuide(type) {
            const guides = {
                'cpr': '❤️ 심폐소생술 가이드\n\n1단계: 환자 의식 확인\n- 어깨를 가볍게 두드리며 "괜찮으세요?" 큰 소리로 물어보세요\n- 반응이 없으면 즉시 119 신고\n\n2단계: 가슴압박 준비\n- 환자를 단단한 바닥에 눕히세요\n- 목을 뒤로 젖혀 기도를 열어주세요\n\n3단계: 가슴압박 실시\n- 양손을 겹쳐 가슴 중앙에 위치\n- 분당 100-120회 속도로 5cm 깊이 압박\n\n음성 가이드가 시작됩니다...',
                'choking': '🫁 기도폐쇄 응급처치\n\n1단계: 환자 상태 확인\n- 말을 할 수 있는지 확인\n- 기침을 할 수 있다면 계속 기침하도록 격려\n\n2단계: 하임리히법 실시\n- 환자 뒤에 서서 팔로 감쌉니다\n- 명치 아래 주먹을 대고 위로 강하게 밀어올립니다\n\n3단계: 이물질 제거 확인\n- 입안을 확인하여 이물질이 나왔는지 점검\n- 의식을 잃으면 즉시 심폐소생술 실시',
                'burn': '🔥 화상 응급처치\n\n1단계: 안전 확보\n- 화상 원인 제거 (불끄기, 전원차단 등)\n- 환자와 구조자 안전 확인\n\n2단계: 즉시 냉각\n- 찬물로 15-20분간 지속적으로 냉각\n- 얼음은 사용하지 마세요\n- 물집은 터뜨리지 마세요\n\n3단계: 화상 부위 보호\n- 깨끗한 천으로 덮어주세요\n- 심한 화상은 즉시 병원 이송',
                'bleeding': '🩸 출혈 응급처치\n\n1단계: 직접 압박\n- 깨끗한 천으로 상처 부위를 직접 압박\n- 압박 후에도 피가 나면 천을 추가로 댑니다\n\n2단계: 거상\n- 출혈 부위를 심장보다 높게 올립니다\n- 지속적인 압박 유지\n\n3단계: 압박점 지압\n- 동맥 압박점을 찾아 지압\n- 지혈대는 전문가만 사용',
                'fracture': '🦴 골절 응급처치\n\n1단계: 환자 안정\n- 환자를 움직이지 마세요\n- 부상 부위를 고정합니다\n\n2단계: 고정 및 냉각\n- 부목으로 고정 (신문지, 잡지 활용 가능)\n- 얼음팩으로 냉찜질 (직접 닿지 않게)\n\n3단계: 병원 이송\n- 척추 손상 의심시 절대 움직이지 말것\n- 즉시 119 신고',
                'poisoning': '☠️ 중독 응급처치\n\n1단계: 원인 파악\n- 무엇을 먹었는지 확인\n- 토하게 하지 마세요\n\n2단계: 응급실 이송\n- 즉시 119 신고\n- 중독 물질을 함께 가져갑니다\n\n3단계: 응급처치\n- 의식이 있으면 물이나 우유 섭취\n- 의식이 없으면 기도 확보'
            };
            
            alert(guides[type]);
        }

        // 기타 페이지 기능들
        function showLogin() {
            alert('🔐 로그인\n\n카카오톡, 네이버, 구글 계정으로 간편 로그인이 가능합니다.\n\n회원가입시 초기 건강 설문을 통해 맞춤형 서비스를 제공합니다.');
        }

        function showAIEngines() {
            alert('🤖 AI 엔진 추가\n\n사용 가능한 AI 엔진:\n\n• GPT-4 의료 특화 모델\n• Claude 건강상담 모델\n• 삼성서울병원 AI 진단 시스템\n• 서울아산병원 AI 영상판독\n• 구글 헬스 AI\n\n원하는 AI 엔진을 선택하여 더욱 정확한 진단을 받아보세요.');
        }

        // 새로운 페이지들을 위한 함수들 (동적 생성)
        function createMissingPages() {
            const pages = [
                {
                    id: 'telemedicineBookingPage',
                    title: '💻 비대면진료 예약',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">💻 비대면진료</h1>
                            <p class="page-subtitle">전문의와 화상으로 상담하고 처방전까지 받아보세요</p>
                        </div>

                        <div class="option-grid">
                            <div class="option-card" onclick="selectConsultationType('immediate')" id="immediateOption">
                                <div class="option-icon">⚡</div>
                                <div class="option-title">즉시 상담</div>
                                <div style="color: var(--text-secondary); font-size: 14px; margin: 8px 0;">평균 대기시간 3분</div>
                                <div class="option-price">₩15,000</div>
                            </div>
                            <div class="option-card" onclick="selectConsultationType('scheduled')" id="scheduledOption">
                                <div class="option-icon">📅</div>
                                <div class="option-title">예약 상담</div>
                                <div style="color: var(--text-secondary); font-size: 14px; margin: 8px 0;">원하는 시간에 예약</div>
                                <div class="option-price">₩20,000</div>
                            </div>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 16px;">📋 간단한 문진표를 작성해주세요</h4>
                            
                            <div class="form-group">
                                <label class="form-label">주요 증상 (선택사항)</label>
                                <textarea class="form-textarea" placeholder="현재 증상이나 상담받고 싶은 내용을 간단히 적어주세요"></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">복용 중인 약물</label>
                                <input type="text" class="form-input" placeholder="현재 복용 중인 약이 있다면 적어주세요">
                            </div>

                            <div class="form-group">
                                <label class="form-label">알레르기</label>
                                <input type="text" class="form-input" placeholder="알레르기가 있다면 적어주세요">
                            </div>

                            <button class="btn btn-primary btn-large btn-full" onclick="showPage('consultationPaymentPage')">
                                상담 신청하기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'consultationPaymentPage',
                    title: '💳 상담 결제',
                    content: `
                        <div class="progress-text">결제 진행 중...</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 80%"></div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="--icon-bg: var(--color-medical);">💻</div>
                                <div>
                                    <h3 class="card-title">즉시 상담 예약</h3>
                                    <p class="card-subtitle">현재 대기 환자: 2명</p>
                                </div>
                            </div>

                            <div style="background: var(--color-surface-modal); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                                <h4 style="margin-bottom: 16px;">💳 결제 정보</h4>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>상담비</span>
                                    <span>₩15,000</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>서비스 수수료</span>
                                    <span>₩1,000</span>
                                </div>
                                <hr style="border: none; border-top: 1px solid #333; margin: 16px 0;">
                                <div style="display: flex; justify-content: space-between; font-weight: 600; font-size: 1.1rem;">
                                    <span>총 결제금액</span>
                                    <span style="color: var(--color-primary);">₩16,000</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">결제 방법</label>
                                <select class="form-select">
                                    <option>신용카드</option>
                                    <option>카카오페이</option>
                                    <option>네이버페이</option>
                                    <option>토스페이</option>
                                </select>
                            </div>

                            <button class="btn btn-primary btn-large btn-full" onclick="processPayment()">
                                ₩16,000 결제하기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'consultationWaitingPage',
                    title: '⏱️ 상담 대기',
                    content: `
                        <div class="result-card">
                            <div class="result-icon info-icon">⏱️</div>
                            <h2 class="result-title">상담 대기 중</h2>
                            <p class="result-description">
                                결제가 완료되었습니다. 잠시만 기다려주세요.<br>
                                곧 전문의와 연결됩니다.
                            </p>
                            
                            <div class="timer-display">
                                <span id="waitingTime">02:30</span>
                            </div>
                            <p style="color: var(--text-secondary);">예상 대기시간</p>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 16px;">👨‍⚕️ 배정된 전문의</h4>
                            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                                <div style="width: 60px; height: 60px; border-radius: 50%; background: var(--color-medical); display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">👨‍⚕️</div>
                                <div>
                                    <h4>김내과 원장</h4>
                                    <p style="color: var(--text-secondary);">내과 전문의 • 15년 경력</p>
                                    <p style="color: var(--text-secondary);">서울대학교병원 출신</p>
                                </div>
                            </div>
                            
                            <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                                <p style="font-size: 14px; color: var(--text-secondary);">
                                    💡 <strong>상담 팁:</strong> 카메라와 마이크를 미리 확인해주세요. 
                                    상담 중에는 조용한 환경에서 진행하시기 바랍니다.
                                </p>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="showPage('consultationInProgressPage')">
                                상담 시작하기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'consultationInProgressPage',
                    title: '💻 상담 중',
                    content: `
                        <div class="consultation-video">
                            <div style="text-align: center;">
                                <div style="font-size: 4rem; margin-bottom: 16px;">👨‍⚕️</div>
                                <h3>김내과 원장과 상담 중</h3>
                                <p style="color: var(--text-secondary);">진료 시간: <span id="consultTime">05:42</span></p>
                            </div>
                        </div>

                        <div style="display: flex; gap: 16px; justify-content: center; margin-bottom: 24px; flex-wrap: wrap;">
                            <button class="btn" style="background: var(--color-error);" onclick="toggleMute()">
                                <span id="muteIcon">🔇</span> <span id="muteText">음소거</span>
                            </button>
                            <button class="btn" style="background: var(--color-warning);" onclick="toggleCamera()">
                                <span id="cameraIcon">📹</span> <span id="cameraText">카메라 끄기</span>
                            </button>
                            <button class="btn btn-primary" onclick="showPage('consultationCompletePage')">
                                📞 상담 종료
                            </button>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 16px;">📝 실시간 진료 노트</h4>
                            <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px; font-family: monospace; line-height: 1.8;">
                                환자 주요 증상: 두통, 발열, 기침<br>
                                진단 소견: 상기도 감염 의심<br>
                                처방: 해열진통제, 기침 완화제<br>
                                추가 검사: 필요시 혈액검사 권장<br>
                                재진 권유: 3일 후 증상 지속시
                            </div>
                        </div>
                    `
                },
                {
                    id: 'consultationCompletePage',
                    title: '✅ 상담 완료',
                    content: `
                        <div class="result-card">
                            <div class="result-icon success-icon">✅</div>
                            <h2 class="result-title">상담이 완료되었습니다!</h2>
                            <p class="result-description">
                                총 상담시간: <strong>12분 30초</strong><br>
                                진료비 및 처방전이 발급되었습니다.
                            </p>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 16px;">📋 진료 결과</h4>
                            <div style="background: var(--color-surface-modal); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                                <div style="margin-bottom: 16px;">
                                    <strong>진단명:</strong> 급성 상기도염 (감기)
                                </div>
                                <div style="margin-bottom: 16px;">
                                    <strong>소견:</strong> 발열과 기침 증상이 있으나 심각한 합병증은 없음. 충분한 휴식과 수분 섭취 권장.
                                </div>
                                <div>
                                    <strong>처방약:</strong> 아세트아미노펜 500mg, 덱스트로메토르판 시럽
                                </div>
                            </div>

                            <button class="btn btn-secondary btn-full" onclick="showPage('prescriptionPage')">
                                💊 처방전 보기
                            </button>
                        </div>

                        <div class="info-list">
                            <h4>📧 자동 전송 완료</h4>
                            <ul>
                                <li>진료 기록 (이메일 + SMS)</li>
                                <li>처방전 (연계 약국에 자동 전송)</li>
                                <li>복용법 안내 (카카오톡)</li>
                                <li>추후 관리 가이드 (이메일)</li>
                            </ul>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="showPage('mainPage')">
                                홈으로 돌아가기
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="showPage('prescriptionPage')">
                                약국에서 약 받기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'prescriptionPage',
                    title: '💊 처방전',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">💊 전자 처방전</h1>
                            <p class="page-subtitle">처방받은 약을 가까운 약국에서 받거나 배송으로 주문하세요</p>
                        </div>

                        <div class="card">
                            <div style="background: var(--color-surface-modal); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                                <h4 style="margin-bottom: 16px;">📋 처방전 정보</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                    <div>
                                        <strong>처방전 번호:</strong><br>
                                        <span style="color: var(--color-medical); font-family: monospace;">RX-2024-080501</span>
                                    </div>
                                    <div>
                                        <strong>유효기간:</strong><br>
                                        <span>2024년 8월 12일까지</span>
                                    </div>
                                </div>
                                <div>
                                    <strong>처방 의사:</strong> 김내과 원장 (면허번호: 12345)
                                </div>
                            </div>

                            <h4 style="margin-bottom: 16px;">💊 처방 약물</h4>
                            <div style="space-y: 12px;">
                                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px; margin-bottom: 12px;">
                                    <div style="display: flex; justify-content: space-between; align-items: start;">
                                        <div>
                                            <h5>아세트아미노펜 500mg</h5>
                                            <p style="color: var(--text-secondary); font-size: 14px;">해열진통제</p>
                                            <p style="color: var(--text-tertiary); font-size: 13px;">
                                                복용법: 1일 3회, 1회 1정, 식후 30분
                                            </p>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="color: var(--color-primary); font-weight: 600;">21정</div>
                                            <div style="color: var(--text-secondary); font-size: 13px;">7일분</div>
                                        </div>
                                    </div>
                                </div>

                                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: start;">
                                        <div>
                                            <h5>덱스트로메토르판 시럽</h5>
                                            <p style="color: var(--text-secondary); font-size: 14px;">기침 완화제</p>
                                            <p style="color: var(--text-tertiary); font-size: 13px;">
                                                복용법: 1일 3회, 1회 10ml, 식후
                                            </p>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="color: var(--color-primary); font-weight: 600;">210ml</div>
                                            <div style="color: var(--text-secondary); font-size: 13px;">7일분</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="option-grid">
                            <div class="option-card" onclick="findNearbyPharmacy()">
                                <div class="option-icon">🏪</div>
                                <div class="option-title">가까운 약국 찾기</div>
                                <div style="color: var(--text-secondary); font-size: 14px;">직접 방문</div>
                            </div>
                            <div class="option-card" onclick="orderDelivery()">
                                <div class="option-icon">🚚</div>
                                <div class="option-title">배송 주문</div>
                                <div style="color: var(--text-secondary); font-size: 14px;">당일/익일 배송</div>
                            </div>
                        </div>
                    `
                },
                {
                    id: 'onlinePharmacyPage',
                    title: '🏪 온라인 약국',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">🏪 온라인 약국</h1>
                            <p class="page-subtitle">처방전 없이도 구매 가능한 일반의약품과 건강기능식품</p>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
                            <div class="card" onclick="showPharmacyCategory('supplements')">
                                <div style="text-align: center; margin-bottom: 16px;">
                                    <div style="font-size: 3rem; margin-bottom: 12px;">💊</div>
                                    <h4>영양제/건강기능식품</h4>
                                </div>
                                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                                    <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 12px;">
                                        • 비타민 A, B, C, D<br>
                                        • 오메가3<br>
                                        • 프로바이오틱스<br>
                                        • 칼슘, 마그네슘
                                    </p>
                                    <div style="color: var(--color-primary); font-weight: 600;">₩5,000원부터</div>
                                </div>
                            </div>

                            <div class="card" onclick="showPharmacyCategory('otc')">
                                <div style="text-align: center; margin-bottom: 16px;">
                                    <div style="font-size: 3rem; margin-bottom: 12px;">🩹</div>
                                    <h4>일반의약품</h4>
                                </div>
                                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                                    <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 12px;">
                                        • 감기약<br>
                                        • 소화제<br>
                                        • 진통제<br>
                                        • 외용약
                                    </p>
                                    <div style="color: var(--color-primary); font-weight: 600;">₩3,000원부터</div>
                                </div>
                            </div>

                            <div class="card" onclick="showPharmacyCategory('devices')">
                                <div style="text-align: center; margin-bottom: 16px;">
                                    <div style="font-size: 3rem; margin-bottom: 12px;">🌡️</div>
                                    <h4>의료기기</h4>
                                </div>
                                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                                    <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 12px;">
                                        • 혈압계<br>
                                        • 혈당계<br>
                                        • 체온계<br>
                                        • 산소포화도계
                                    </p>
                                    <div style="color: var(--color-primary); font-weight: 600;">₩50,000원부터</div>
                                </div>
                            </div>

                            <div class="card" onclick="showPharmacyCategory('herbal')">
                                <div style="text-align: center; margin-bottom: 16px;">
                                    <div style="font-size: 3rem; margin-bottom: 12px;">🌿</div>
                                    <h4>한방/천연</h4>
                                </div>
                                <div style="background: var(--color-surface-modal); padding: 16px; border-radius: 8px;">
                                    <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: 12px;">
                                        • 홍삼<br>
                                        • 한방차<br>
                                        • 천연 추출물<br>
                                        • 건강차
                                    </p>
                                    <div style="color: var(--color-primary); font-weight: 600;">₩15,000원부터</div>
                                </div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="showNotification('온라인 약국 서비스는 준비 중입니다', 'info')">
                                쇼핑 시작하기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'healthTrendsPage',
                    title: '📈 건강 트렌드',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">📈 건강 트렌드</h1>
                            <p class="page-subtitle">지난 30일간의 건강 데이터 분석 리포트</p>
                        </div>

                        <div class="result-card">
                            <div class="result-icon info-icon">📊</div>
                            <h2 class="result-title">종합 건강 점수</h2>
                            <div style="font-size: 3rem; color: var(--color-primary); margin: 16px 0;">85/100</div>
                            <p class="result-description">
                                전반적으로 양호한 건강 상태를 유지하고 있습니다.<br>
                                수면 시간 개선이 필요합니다.
                            </p>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 20px;">📋 상세 분석</h4>
                            
                            <div style="margin-bottom: 24px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>심박수</span>
                                    <span style="color: var(--color-primary);">정상 (72 bpm)</span>
                                </div>
                                <div style="background: var(--color-surface-modal); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--color-primary); height: 100%; width: 90%; border-radius: 4px;"></div>
                                </div>
                            </div>

                            <div style="margin-bottom: 24px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>혈압</span>
                                    <span style="color: var(--color-primary);">정상 (120/80)</span>
                                </div>
                                <div style="background: var(--color-surface-modal); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--color-primary); height: 100%; width: 95%; border-radius: 4px;"></div>
                                </div>
                            </div>

                            <div style="margin-bottom: 24px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>수면</span>
                                    <span style="color: var(--color-warning);">부족 (7.1시간)</span>
                                </div>
                                <div style="background: var(--color-surface-modal); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--color-warning); height: 100%; width: 70%; border-radius: 4px;"></div>
                                </div>
                            </div>

                            <div style="margin-bottom: 24px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span>활동량</span>
                                    <span style="color: var(--color-primary);">양호 (8,200보)</span>
                                </div>
                                <div style="background: var(--color-surface-modal); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--color-primary); height: 100%; width: 82%; border-radius: 4px;"></div>
                                </div>
                            </div>
                        </div>

                        <div class="info-list">
                            <h4>💡 개선 권장사항</h4>
                            <ul>
                                <li>수면 시간을 30분 더 늘려 8시간을 목표로 하세요</li>
                                <li>일일 걸음수를 1,800보 더 늘려 10,000보를 달성하세요</li>
                                <li>규칙적인 운동으로 심폐 기능을 강화하세요</li>
                                <li>스트레스 관리를 위한 명상이나 요가를 시도해보세요</li>
                            </ul>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="showPage('mainPage')">
                                홈으로 돌아가기
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="exportHealthData()">
                                상세 리포트 다운로드
                            </button>
                        </div>
                    `
                },
                {
                    id: 'shareWithDoctorPage',
                    title: '👨‍⚕️ 의사와 공유',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">👨‍⚕️ 의사와 데이터 공유</h1>
                            <p class="page-subtitle">건강 데이터를 의료진과 안전하게 공유하세요</p>
                        </div>

                        <div class="result-card">
                            <div class="result-icon success-icon">🔗</div>
                            <h2 class="result-title">공유 코드 생성 완료</h2>
                            <div style="font-size: 2rem; color: var(--color-primary); margin: 24px 0; font-family: monospace; letter-spacing: 4px;">
                                ABC123
                            </div>
                            <p class="result-description">
                                유효기간: 7일<br>
                                의사에게 이 코드를 제공하면 건강 데이터에 접근할 수 있습니다.
                            </p>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 16px;">📊 공유되는 데이터</h4>
                            <div style="background: var(--color-surface-modal); padding: 20px; border-radius: 12px;">
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                    <div>
                                        <strong>생체 데이터</strong>
                                        <ul style="list-style: none; padding-left: 0; margin-top: 8px;">
                                            <li>• 심박수 기록</li>
                                            <li>• 혈압 측정값</li>
                                            <li>• 수면 패턴</li>
                                            <li>• 활동량</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <strong>의료 기록</strong>
                                        <ul style="list-style: none; padding-left: 0; margin-top: 8px;">
                                            <li>• AI 증상 체크 기록</li>
                                            <li>• 과거 진료 기록</li>
                                            <li>• 복용 약물 정보</li>
                                            <li>• 알레르기 정보</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid var(--color-primary); border-radius: 12px; padding: 20px; margin-bottom: 24px;">
                            <h4 style="color: var(--color-primary); margin-bottom: 12px;">🔒 개인정보 보호</h4>
                            <ul style="color: var(--text-secondary); font-size: 14px; list-style: none; padding-left: 0;">
                                <li>• 모든 데이터는 암호화되어 전송됩니다</li>
                                <li>• 공유 코드는 7일 후 자동 만료됩니다</li>
                                <li>• 언제든지 공유를 중단할 수 있습니다</li>
                                <li>• 접근 기록이 모두 남습니다</li>
                            </ul>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="showPage('mainPage')">
                                홈으로 돌아가기
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="copyShareCode()">
                                코드 복사하기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'healthCheckupAnalysisPage',
                    title: '📋 건강검진 분석',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">📋 건강검진 분석</h1>
                            <p class="page-subtitle">건강검진 결과를 업로드하면 AI가 분석하여 위험 요소를 찾아드립니다</p>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 20px;">📄 건강검진 결과 업로드</h4>
                            
                            <div style="border: 2px dashed var(--color-medical); border-radius: 12px; padding: 40px; text-align: center; margin-bottom: 24px; cursor: pointer;" onclick="uploadHealthCheckup()">
                                <div style="font-size: 3rem; margin-bottom: 16px; color: var(--color-medical);">📁</div>
                                <h5 style="margin-bottom: 8px;">파일을 선택하거나 여기에 끌어다 놓으세요</h5>
                                <p style="color: var(--text-secondary); font-size: 14px;">
                                    지원 형식: PDF, JPG, PNG (최대 10MB)
                                </p>
                            </div>

                            <div class="info-list">
                                <h4>📊 분석 가능한 항목</h4>
                                <ul>
                                    <li>혈액검사 (콜레스테롤, 혈당, 간기능 등)</li>
                                    <li>소변검사 (단백질, 당, 적혈구 등)</li>
                                    <li>영상검사 (흉부X선, 초음파 등)</li>
                                    <li>심전도 검사</li>
                                    <li>체성분 분석</li>
                                </ul>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="uploadHealthCheckup()">
                                파일 선택하기
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="showPage('mainPage')">
                                나중에 하기
                            </button>
                        </div>
                    `
                },
                {
                    id: 'drugInteractionPage',
                    title: '⚠️ 약물 상호작용',
                    content: `
                        <div class="page-header">
                            <h1 class="page-title">⚠️ 약물 상호작용 체크</h1>
                            <p class="page-subtitle">복용 중인 약물들의 상호작용을 체크하고 주의사항을 안내합니다</p>
                        </div>

                        <div class="card">
                            <h4 style="margin-bottom: 20px;">💊 현재 복용 중인 약물</h4>
                            
                            <div class="form-group">
                                <label class="form-label">약물명 입력</label>
                                <input type="text" class="form-input" id="drugName" placeholder="약물명을 입력하세요 (예: 아스피린, 타이레놀 등)">
                            </div>

                            <button class="btn btn-primary" onclick="addDrug()" style="margin-bottom: 20px;">
                                약물 추가
                            </button>

                            <div id="drugList" style="margin-bottom: 24px;">
                                <div style="background: var(--color-surface-modal); padding: 12px; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center;">
                                    <span>아스피린 100mg</span>
                                    <button class="btn" style="padding: 4px 8px; font-size: 12px;" onclick="removeDrug(this)">삭제</button>
                                </div>
                            </div>

                            <button class="btn btn-primary btn-large btn-full" onclick="checkDrugInteractions()">
                                상호작용 검사하기
                            </button>
                        </div>

                        <div class="card" id="interactionResults" style="display: none;">
                            <h4 style="margin-bottom: 16px;">⚠️ 상호작용 검사 결과</h4>
                            <div style="background: rgba(245, 158, 11, 0.1); border: 1px solid var(--color-warning); border-radius: 8px; padding: 16px;">
                                <p style="color: var(--color-warning); font-weight: 600; margin-bottom: 8px;">
                                    주의 필요
                                </p>
                                <p style="color: var(--text-secondary); font-size: 14px;">
                                    현재 복용 중인 약물들 간에 경미한 상호작용 가능성이 있습니다.
                                    자세한 내용은 의사 또는 약사와 상담하시기 바랍니다.
                                </p>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" onclick="showPage('mainPage')">
                                홈으로 돌아가기
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="showPage('telemedicineBookingPage')">
                                전문의와 상담
                            </button>
                        </div>
                    `
                }
            ];

            pages.forEach(page => {
                if (!document.getElementById(page.id)) {
                    const pageElement = document.createElement('div');
                    pageElement.id = page.id;
                    pageElement.className = 'page';
                    pageElement.innerHTML = `
                        <div class="header">
                            <div class="logo" onclick="showPage('mainPage')">
                                <div class="logo-icon">1</div>
                                <span>One AI</span>
                            </div>
                        </div>
                        <div class="container-small">
                            <div class="back-btn" onclick="showPage('mainPage')">
                                ← 뒤로가기
                            </div>
                            ${page.content}
                        </div>
                    `;
                    document.body.appendChild(pageElement);
                }
            });
        }

        // 추가 기능들
        function findNearbyPharmacy() {
            showNotification('주변 약국을 검색중입니다...', 'info');
            setTimeout(() => {
                alert('🏪 가까운 약국\n\n1. 온누리약국 (도보 3분)\n   서울시 강남구 테헤란로 120\n   📞 02-1234-5678\n   ✅ 영업중 (09:00-22:00)\n\n2. 미래약국 (도보 5분)\n   서울시 강남구 테헤란로 95\n   📞 02-2345-6789\n   ✅ 영업중 (08:30-21:30)\n\n3. 건강한약국 (차량 7분)\n   서울시 강남구 역삼로 200\n   📞 02-3456-7890\n   ✅ 영업중 (09:00-20:00)');
            }, 1500);
        }

        function orderDelivery() {
            showNotification('배송 주문 페이지로 이동합니다...', 'info');
            setTimeout(() => {
                alert('🚚 약 배송 주문\n\n예상 약값: ₩8,500\n배송비: ₩3,000\n총 금액: ₩11,500\n\n배송 옵션:\n• 당일 배송 (18:00 이전)\n• 익일 배송 (09:00-21:00)\n\n주소: 서울시 강남구 테헤란로 123\n\n주문하시겠습니까?');
            }, 1000);
        }

        function showPharmacyCategory(category) {
            const categories = {
                'supplements': '영양제/건강기능식품',
                'otc': '일반의약품',
                'devices': '의료기기',
                'herbal': '한방/천연'
            };
            showNotification(`${categories[category]} 카테고리를 준비중입니다`, 'info');
        }

        function copyShareCode() {
            navigator.clipboard.writeText('ABC123').then(() => {
                showNotification('공유 코드가 복사되었습니다', 'success');
            }).catch(() => {
                showNotification('복사에 실패했습니다', 'error');
            });
        }

        function uploadHealthCheckup() {
            showNotification('파일 업로드 기능을 준비중입니다', 'info');
        }

        function addDrug() {
            const drugName = document.getElementById('drugName').value.trim();
            if (!drugName) {
                showNotification('약물명을 입력해주세요', 'warning');
                return;
            }

            const drugList = document.getElementById('drugList');
            const drugItem = document.createElement('div');
            drugItem.style.cssText = 'background: var(--color-surface-modal); padding: 12px; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center;';
            drugItem.innerHTML = `
                <span>${drugName}</span>
                <button class="btn" style="padding: 4px 8px; font-size: 12px;" onclick="removeDrug(this)">삭제</button>
            `;
            drugList.appendChild(drugItem);
            document.getElementById('drugName').value = '';
        }

        function removeDrug(button) {
            button.parentElement.remove();
        }

        function checkDrugInteractions() {
            showNotification('약물 상호작용을 검사중입니다...', 'info');
            setTimeout(() => {
                document.getElementById('interactionResults').style.display = 'block';
                showNotification('검사가 완료되었습니다', 'success');
            }, 2000);
        }

        // 페이지 로드 완료 후 누락된 페이지들 생성
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(createMissingPages, 100);
        });
    </script>
</body>
</html>